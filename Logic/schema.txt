Vars:

Clock
Lock
Btn
=3
!=2
D_In
D_Out
Row
Column
Set_D_In

--

D_In:
Enable:
(Lock and (not Clock) and !=2) or ((not Lock) and Btn) or ((Row and Column) and Clock)

Data:
(((Lock and =3) or ((not Lock) and (not D_Out))) and (not (Row and Column))) or ((Row and Column) and Set_D_In)

---

D_Out:
Enable:
((Lock and Clock) or (not Lock and (not Btn)) and (not (Row and Column))) or ((not Clock) and (Row and Column))

Data:
D_In

---

LED:
Pwr: D_Out

---

Read_D_Out:
(Row and Column) and D_Out

